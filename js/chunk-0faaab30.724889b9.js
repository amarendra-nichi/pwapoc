(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0faaab30"],{"2d49":function(t,e,n){},"35ad":function(t,e,n){},"3aa3":function(t,e,n){},4353:function(t,e,n){"use strict";n("35ad")},"63c2":function(t,e,n){"use strict";n("3aa3")},"8e6e":function(t,e,n){var a=n("5ca1"),s=n("990b"),r=n("6821"),i=n("11e9"),o=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=r(t),c=i.f,l=s(a),u={},d=0;while(l.length>d)n=c(a,e=l[d++]),void 0!==n&&o(u,e,n);return u}})},"990b":function(t,e,n){var a=n("9093"),s=n("2621"),r=n("cb7c"),i=n("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=a.f(r(t)),n=s.f;return n?e.concat(n(t)):e}},adce:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-1 pt-4"},[n("b-form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("b-row",[n("b-col",{staticClass:"ml-3",attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("Industry")))])],1),n("b-col",{staticClass:"ml-2",attrs:{cols:"11",xl:"4"}},[n("b-form-select",{staticClass:"optionClass",attrs:{plain:!0,options:t.industryOptions,"value-field":"value","text-field":"text","disabled-field":"disabled"},model:{value:t.companySettingInfo.selectedIndustry,callback:function(e){t.$set(t.companySettingInfo,"selectedIndustry",e)},expression:"companySettingInfo.selectedIndustry"}}),n("show-errors",{attrs:{control:t.$v.companySettingInfo.selectedIndustry,field:t.$t("Industry")}})],1),n("b-col",{staticClass:"file-btn-margin mobilejustify",attrs:{cols:"12",xl:"4"}},[n("b-button",{attrs:{disabled:t.isRowSelected,variant:"primary"},on:{click:t.createCompanyInfo}},[t._v(t._s(t.$t("ADD"))+" "),t.addBusy?n("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1),n("br"),n("b-row",[n("b-col",{attrs:{cols:"12",xl:"6"}},[n("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny align-content-center",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("YEAR1")))])],1),n("b-col",{staticClass:"mt-3",attrs:{id:"options",cols:"12"}},[n("b-form-select",{staticClass:"optionClass",attrs:{plain:!0,options:t.options,disabled:t.onRowDisabled,"value-field":"item","text-field":"name","disabled-field":"notEnabled"},model:{value:t.selectedYear,callback:function(e){t.selectedYear=e},expression:"selectedYear"}})],1)],1),n("b-col",{attrs:{cols:"12",xl:"6"}},[n("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("EmployeeNumber")))])],1),n("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[n("b-form-input",{staticClass:"textFieldClass",attrs:{placeholder:"1,000",maxlength:"7",onkeypress:"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))"},model:{value:t.companySettingInfo.employee,callback:function(e){t.$set(t.companySettingInfo,"employee","string"===typeof e?e.trim():e)},expression:"companySettingInfo.employee"}}),n("show-errors",{attrs:{control:t.$v.companySettingInfo.employee,field:t.$t("EmployeeNumber")}})],1)],1)],1),n("br"),n("b-row",[n("b-col",{attrs:{cols:"12",xl:"6"}},[n("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel w-80"},[t._v(t._s(t.$t("Capital")))])],1),n("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[n("b-form-input",{staticClass:"textFieldClass",attrs:{placeholder:"5,000,000"+t.$t("YEN"),maxlength:"14",onkeypress:"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))"},model:{value:t.companySettingInfo.capital,callback:function(e){t.$set(t.companySettingInfo,"capital","string"===typeof e?e.trim():e)},expression:"companySettingInfo.capital"}}),n("show-errors",{attrs:{control:t.$v.companySettingInfo.capital,field:t.$t("Capital")}})],1)],1),n("b-col",{attrs:{cols:"12",xl:"6"}},[n("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("Revenue")))])],1),n("b-col",{staticClass:"mt-3",attrs:{cols:"12"}},[n("b-form-input",{staticClass:"textFieldClass",attrs:{placeholder:"10,000,000"+t.$t("YEN"),maxlength:"14",onkeypress:"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))"},model:{value:t.companySettingInfo.sales,callback:function(e){t.$set(t.companySettingInfo,"sales","string"===typeof e?e.trim():e)},expression:"companySettingInfo.sales"}}),n("show-errors",{attrs:{control:t.$v.companySettingInfo.sales,field:t.$t("Revenue")}})],1)],1)],1),n("br"),n("b-row",[n("b-col",{attrs:{cols:"12",xl:"6"}},[n("b-col",{attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("FloorSpace")))])],1),n("b-col",{attrs:{cols:"12"}},[n("b-form-input",{staticClass:"textFieldClass",attrs:{placeholder:"100"+t.$t("PING"),maxlength:"9",onkeypress:"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))"},model:{value:t.companySettingInfo.floorSize,callback:function(e){t.$set(t.companySettingInfo,"floorSize","string"===typeof e?e.trim():e)},expression:"companySettingInfo.floorSize"}}),n("show-errors",{attrs:{control:t.$v.companySettingInfo.floorSize,field:t.$t("FloorSpace")}})],1)],1),n("b-col",{attrs:{cols:"12",xl:"6"}},[n("b-col",{attrs:{cols:"12"}},[n("b-button",{staticClass:"px-4 required-btnAny",attrs:{variant:"outline-primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))]),t._v(" "),n("label",{staticClass:"highLightHeaderLabel"},[t._v(t._s(t.$t("NumberOfStores")))])],1),n("b-col",{attrs:{cols:"12"}},[n("b-form-input",{staticClass:"textFieldClass",attrs:{placeholder:"50",maxlength:"7",onkeypress:"return (event.charCode !=8 && event.charCode ==0 || (event.charCode >= 48 && event.charCode <= 57))"},model:{value:t.companySettingInfo.storeNo,callback:function(e){t.$set(t.companySettingInfo,"storeNo","string"===typeof e?e.trim():e)},expression:"companySettingInfo.storeNo"}}),n("show-errors",{attrs:{control:t.$v.companySettingInfo.storeNo,field:t.$t("NumberOfStores")}})],1)],1)],1),n("br"),n("b-row",{staticClass:"mt-1"},[n("b-col",{staticClass:"text-right",attrs:{cols:"6"}},[n("b-button",{attrs:{disabled:t.isAddSelected,variant:"primary"},on:{click:t.updateCompanyInfo}},[t._v(t._s(t.$t("UPDATE"))+" "),t.updBusy?n("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1),n("b-col",{staticClass:"text-left",attrs:{cols:"6"}},[n("b-button",{staticClass:"btnWidth disableBtn",attrs:{variant:"primary"},on:{click:t.clearbasicSettingInfo}},[t._v(t._s(t.$t("CLEAR")))])],1)],1),n("br"),n("b-card",{attrs:{"no-body":""}},[n("div",{attrs:{id:"settingTable"}},[n("b-table",{ref:"selectableTable",attrs:{id:"selectableTable",busy:t.isBusy,"select-mode":t.selectModeTable,fields:t.fieldss,items:t.companyData,striped:!0,bordered:!1,borderless:!1,"head-variant":"dark",fixed:"","sticky-header":""},scopedSlots:t._u([{key:"cell(selectRow)",fn:function(e){return[[n("b-form-radio",{attrs:{id:"radio-"+e.index,name:"table-radio"},on:{change:function(n){return t.toggleSelectAll(e)}},model:{value:e.item.selectRow,callback:function(n){t.$set(e.item,"selectRow",n)},expression:"item.item.selectRow"}})]]}},{key:"cell(Year)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(EmployeeNumber)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Capital)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Revenue1)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(Floorspace)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(NumberOfStores)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(IndustryType)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"})],1)]},proxy:!0}])}),n("div",{staticClass:"text-center text-danger mb-2 mt-2"},[t._v(" "+t._s(t.errorMessage)+" ")])],1)])],1),n("div",[n("b-modal",{ref:"tree-modal1",attrs:{id:"tree-modal1","hide-footer":!0,centered:"",variant:"secondary","modal-class":"py-0","body-class":"py-0",size:"md","footer-class":"border-0","header-class":"border-0 bg-white pd-0","button-size":"sm","hide-header-close":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){return[n("div",{staticClass:"w-100 d-flex justify-content-between"},[n("div",{staticClass:"title-fs font-weight-bold mt-2 text-dark ml-3"},[t._v(" "+t._s(t.$t("INDUSTRYSELECTION"))+" ")]),n("b-button",{staticClass:"back-btn close-btn mr-3 mt-2",attrs:{variant:"primary"},on:{click:t.cancel}},[t._v(t._s(t.$t("CLOSE")))])],1)]}}])},[n("b-card",{staticClass:"pop-up-box"},[n("b-row",[n("b-col",[n("SubMenuTree",{attrs:{treeTitle:t.industrytitle,industry:!0,data:t.treeData,"tree-options":t.treeOptions},on:{"update-expense-type":t.selectIndustryItem}})],1)],1)],1),n("b-row",[n("b-col",{staticClass:"text-center mb-2",attrs:{cols:"12"}},[n("b-button",{staticClass:"float-right",attrs:{disabled:""==t.currentSelectedIndustryItem,variant:"primary"},on:{click:t.getIndustryName}},[t._v(t._s(t.$t("SELECTEXPENSEITEMS")))])],1)],1)],1)],1)],1)},s=[],r=(n("8e6e"),n("6b54"),n("7514"),n("cadf"),n("456d"),n("ac6a"),n("96cf"),n("1da1")),i=(n("a481"),n("ade3")),o=n("1315"),c=n("b5ae"),l=n("c827"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"min-tree-height",attrs:{id:"subMenuTree"}},[n("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.treeTitle))]),0==t.treeMapedData.length?[n("div",{staticClass:"text-center errorColor"},[t._v(" "+t._s(t.$t("GENRALDATAERRORMESSAGE"))+" ")])]:[n("tree",{attrs:{data:t.treeMapedData,options:t.treeOptions},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node;return n("span",{staticClass:"tree-text"},[a.hasChildren()?[n("u",[t._v(t._s(a.text))])]:[t.isParentDataSelected?n("b-form-radio",{attrs:{value:a.parent.data.text+a.text,disabled:t.disabled(a.text)},on:{change:function(e){return t.onNodeSelected(a.text,a.parent.data.text)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[n("u",{staticClass:"tree-text pointer",class:{disabled:t.disabled(a.text),"selected-tree-text":t.selected==a.text}},[t._v(" "+t._s(a.text)+" ")])]):n("b-form-radio",{attrs:{value:a.text,disabled:t.disabled(a.text)},on:{change:function(e){return t.onNodeSelected(a.text)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[n("u",{staticClass:"tree-text pointer",class:{disabled:t.disabled(a.text),"selected-tree-text":t.selected==a.text}},[t._v(" "+t._s(a.text)+" ")])])]],2)}}])})]],2)},d=[],p=n("2f62");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"SubMenuTree",components:{},inheritAttrs:!1,props:{treeOptions:{type:[Object],default:function(){}},disabledItems:{type:[Array],default:function(){return[]}},treeTitle:{type:String,default:function(){return[]}},industry:{type:Boolean,default:!1},reductionProposal:{type:Boolean,default:!1},isParentDataSelected:{type:Boolean,default:!1}},data:function(){return{selected:""}},computed:y(y({},Object(p["b"])({treeData:"getTree",industryTreeData:"getIndustryTree",getProposalTreeData:"getReductionProposalTree",selected_expense_item:"getSelectedExpenseItem"})),{},{treeMapedData:function(){return this.industry?this.industryTreeData:this.reductionProposal?this.getProposalTreeData:this.treeData}}),mounted:function(){this.selected=this.selected_expense_item.expense_item_nm},created:function(){},methods:{disabled:function(t){return-1!=this.disabledItems.indexOf(t)},onNodeSelected:function(t,e){this.disabledItems.indexOf(t)&&this.$emit("update-expense-type",t,e)}}},h=f,b=(n("4353"),n("e940"),n("2877")),g=Object(b["a"])(h,u,d,!1,null,"335bf3eb",null),I=g.exports,v=n("3f54"),_=n("2f4e");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var x=v["a"].get("basic");o["Settings"].defaultLocale="ja";var w={name:"Index",components:{SubMenuTree:I,ShowErrors:l["a"]},data:function(){return{industryOptions:[],industrytitle:"",onRowDisabled:!1,treeOptions:{},tableyear:"",companysizeName:"",allTreeData:[],treeData:[],options:[],monthOptions:[{item:"1",name:"1月"},{item:"2",name:"2月"},{item:"3",name:"3月"},{item:"4",name:"4月"},{item:"5",name:"5月"},{item:"6",name:"6月"},{item:"7",name:"7月"},{item:"8",name:"8月"},{item:"9",name:"9月"},{item:"10",name:"10月"},{item:"11",name:"11月"},{item:"12",name:"12月"}],selectedYear:(new Date).getFullYear(),isAddSelected:!0,isRowSelected:!1,companyData:[],companySizeInfoData:[],selectModeTable:"single",selectedRow:[],currentMonth:(new Date).getMonth()+1,companySettingInfo:{selectedIndustry:"",Datayear:"",employee:"",capital:"",sales:"",floorSize:"",storeNo:"",industry:""},ClientCompanyData:[],isBusy:!1,addBusy:!1,updBusy:!1,errorMessage:"",currentSelectedIndustryItem:""}},computed:C(C({},Object(p["b"])({selected_industry_item:"getSelectedIndustryItem",client_details:"getClientData"})),{},{fieldss:function(){return[{key:"selectRow",label:this.$t("SELECT"),class:"text-center normal-width"},{key:"Year",label:this.$t("YEAR1"),class:"text-center normal-width"},{key:"EmployeeNumber",label:this.$t("EmployeeNumber"),class:"text-center normal-width"},{key:"Capital",label:this.$t("Capital1"),class:"text-center normal-width"},{key:"Revenue",label:this.$t("Revenue1"),class:"text-center normal-width"},{key:"Floorspace",label:this.$t("FloorSpace2"),class:"text-center normal-width"},{key:"NumberOfStores",label:this.$t("NumberOfStores"),class:"text-center normal-width"},{key:"IndustryType",label:this.$t("Industry1"),class:"text-center normal-width"}]}}),validations:{companySettingInfo:{capital:{required:c["required"]},employee:{required:c["required"]},sales:{required:c["required"]},floorSize:{required:c["required"]},storeNo:{required:c["required"]},selectedIndustry:{required:c["required"]}}},watch:{"companySettingInfo.capital":function(t){this.commaSeparatedCapital(t)},"companySettingInfo.employee":function(t){this.commaSeparatedEmployee(t)},"companySettingInfo.floorSize":function(t){this.commaSeparatedFloorSize(t)},"companySettingInfo.storeNo":function(t){this.commaSeparatedStoreNo(t)},"companySettingInfo.sales":function(t){this.commaSeparatedRevenue(t)}},mounted:function(){this.prefectureData(),this.companyTableData(),this.$store.dispatch("updateIndustryTree",this.treeData)},created:function(){},methods:{toggleSelectAll:function(t){this.$refs.selectableTable.selectRow(t.index),t.item.selectRow=!t.item.selectRow;var e=[t.item];this.onRowSelected(e)},commaSeparatedCapital:function(t){console.log(t,"val");var e=this.commaSeparater(t);this.companySettingInfo.capital=e?e+this.$t("YEN"):""},commaSeparatedEmployee:function(t){console.log(t,"val");var e=this.commaSeparater(t);this.companySettingInfo.employee=e||""},commaSeparatedFloorSize:function(t){console.log(t,"val");var e=this.commaSeparater(t);this.companySettingInfo.floorSize=e?e+this.$t("PING"):""},commaSeparatedStoreNo:function(t){console.log(t,"val");var e=this.commaSeparater(t);this.companySettingInfo.storeNo=e||""},commaSeparatedRevenue:function(t){var e=this.commaSeparater(t);this.companySettingInfo.sales=e||""},commaSeparater:function(t){return t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")},getIndustryTreeData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,r,i,o,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.postAPI(_["a"].MASTERREADINDUSTRY,{fieldlist:["*"],conditions:[{key:"industry_kbn",value:["01","02"]}]});case 2:e=t.sent,n=e.data,n.success&&(a=n.data,this.allTreeData=a,this.selected_industry_item.industry_nm?this.companySettingInfo.industry=this.selected_industry_item.industry_nm:this.allTreeData.forEach((function(t){c.companyIndustryNo==t.industry_no&&2==t.industry_kbn&&(c.companySettingInfo.industry=t.industry_nm)})),s=[],r={text:"業種を選ぶ",value:"",disabled:!0},this.industryOptions.push(r),i=this._.sortBy(a,"industry_big_cd"),o=this._.groupBy(i,"industry_big_cd"),Object.keys(o).forEach((function(t){var e=[],n=[];o[t].forEach((function(t){if(1==t.industry_kbn){var a=t.industry_nm;n.push(a)}else{var s={text:t.industry_nm};r={text:t.industry_nm,value:t.industry_no},c.industryOptions.push(r),e.push(s)}}));var a=":"+n[0];if("A"==t){var i={text:t+a,state:{expanded:!0},children:e};s.push(i)}else{var l={text:t+a,state:{expanded:!1},children:e};s.push(l)}})),this.$store.dispatch("updateIndustryTree",s));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),selectIndustryItem:function(t){this.currentSelectedIndustryItem=t},updateIndustryItem:function(t){var e=[];this.allTreeData.forEach((function(t){2==t.industry_kbn&&e.push(t)}));var n=this._.find(e,{industry_nm:t});this.$store.dispatch("updateselectedIndustryItem",{industry_nm:n.industry_nm,industry_no:n.industry_no})},getIndustryName:function(){this.updateIndustryItem(this.currentSelectedIndustryItem),this.selected_industry_item.industry_nm&&(this.companySettingInfo.industry=this.selected_industry_item.industry_nm),this.$refs["tree-modal1"].hide()},cancel:function(){this.$refs["tree-modal1"].hide()},prefectureData:function(){for(var t=parseInt((new Date).getFullYear())-10,e=parseInt((new Date).getFullYear())+10,n=t;n<=e;n++)this.options.push({item:n,name:n})},onRowSelected:function(t){var e=this;if(t.length>0){this.onRowDisabled=!0,this.isRowSelected=!0,this.isAddSelected=!1;var n,a=t[0].Year,s=parseInt(a);this.yearInfo=s,this.selectedYear=s,this.companySettingInfo.employee=t[0].EmployeeNumber,this.companySettingInfo.capital=t[0].Capital,null==t[0].Revenue?this.companySettingInfo.sales=null:this.companySettingInfo.sales=t[0].Revenue,null==t[0].Floorspace?this.companySettingInfo.floorSize=null:this.companySettingInfo.floorSize=t[0].Floorspace,this.companySettingInfo.storeNo=t[0].NumberOfStores,this.tableyear=a,t[0].IndustryType==this.$t("Big")?this.companysizeName=this.$t("BigIndustry"):t[0].IndustryType==this.$t("Medium")?this.companysizeName=this.$t("MediumIndustry"):t[0].IndustryType==this.$t("Small")?this.companysizeName=this.$t("SmallIndustry"):""==t[0].IndustryType&&(this.companysizeName=""),this.companySizeInfoData.forEach((function(t){t.info_year==s&&(n=t.industry_no)}));var r=!1;null!=n?(this.companySettingInfo.selectedIndustry=n,this.allTreeData.forEach((function(t){t.industry_no==n&&2==t.industry_kbn&&(e.companySettingInfo.industry=t.industry_nm,r=!0)}))):this.companySettingInfo.industry="",0==r&&(this.companySettingInfo.industry="")}else this.onRowDisabled=!1,this.clearbasicSettingInfo()},removeChar:function(t){try{return t.substring(1).replace(/[^0-9.-]+/g,"")}catch(e){return 0}},NumberConvert:function(t){try{return t.replace(/[^0-9.-]+/g,"")}catch(e){console.log(e)}},filterByCurrency:function(t){try{return parseInt(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}catch(e){return 0}},companyTableData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,r,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isBusy=!0,e=[],t.next=4,x.postAPI(_["a"].MASTERREADDATAMCLIENTCOMPANYSIZEINFO,{fieldlist:["*"],conditions:[{key:"client_no",value:localStorage.getItem("client_account_no")}]});case 4:n=t.sent,a=n.data,this.isBusy=!1,this.ClientCompanyData=a.data,this.ClientCompanyData.length>0?(this.errorMessage="",s=a.data,this.companySizeInfoData=s,r=this._.sortBy(s,"info_year").reverse(),r.forEach((function(t){var n,a;1==t.company_size?i.companytype=i.$t("Small"):2==t.company_size?i.companytype=i.$t("Medium"):3==t.company_size?i.companytype=i.$t("Big"):i.companytype="",null==t.revenue&&null==t.floor_space?(n=null,a=null):null!=t.revenue&&null==t.floor_space?(n=i.filterByCurrency(t.revenue),a=null):null==t.revenue&&null!=t.floor_space?(n=null,a=a=i.filterByCurrency(t.floor_space)):(n=i.filterByCurrency(t.revenue),a=i.filterByCurrency(t.floor_space));var s={Year:t.info_year,EmployeeNumber:t.employee_number+"人",Capital:i.filterByCurrency(t.capital),Revenue:n,Floorspace:a,NumberOfStores:t.number_of_stores,IndustryType:i.companytype};e.push(s)})),this.companyData=e,this.tableyear=this.companyData[0].Year,this.companyData[0].IndustryType==this.$t("Big")?this.companysizeName=this.$t("BigIndustry"):this.companyData[0].IndustryType==this.$t("Medium")?this.companysizeName=this.$t("MediumIndustry"):this.companyData[0].IndustryType==this.$t("Small")?this.companysizeName=this.$t("SmallIndustry"):""==this.companyData[0].IndustryType&&(this.companysizeName=""),this.companyIndustryNo=r[0].industry_no,this.getIndustryTreeData()):(this.isBusy=!1,this.errorMessage=this.$t("GENRALDATAERRORMESSAGE"));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),industrtyTree:function(){this.currentSelectedIndustryItem="",this.$refs["tree-modal1"].show()},clearbasicSettingInfo:function(){this.$v.$reset(),this.$refs.selectableTable.clearSelected(),this.selectedYear=(new Date).getFullYear(),this.isRowSelected=!1,this.isAddSelected=!0,this.companySettingInfo.employee="",this.companySettingInfo.capital="",this.companySettingInfo.sales="",this.companySettingInfo.floorSize="",this.companySettingInfo.storeNo="",this.companySettingInfo.selectedIndustry="",this.onRowDisabled=!1,this.companyTableData()},createCompanyInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.companySettingInfo.$touch(),this.$v.companySettingInfo.$invalid){t.next=23;break}if(this.addBusy=!0,""!=this.companySettingInfo.employee&&0!=parseInt(this.companySettingInfo.employee)){t.next=8;break}this.addBusy=!1,this.$swal({type:"warning",text:this.$t("WarningMessage1")}),t.next=23;break;case 8:if(""!=this.companySettingInfo.capital&&0!=parseInt(this.companySettingInfo.capital)){t.next=13;break}this.addBusy=!1,this.$swal({type:"warning",text:this.$t("WarningMessage2")}),t.next=23;break;case 13:return this.isAddSelected=!0,t.next=16,x.postAPI(_["a"].MASTERREADDATAMCLIENTCOMPANYSIZEINFO,{fieldlist:["*"],conditions:[{key:"client_no",value:localStorage.getItem("client_account_no")}]});case 16:e=t.sent,n=e.data,this.addBusy=!1,a=n.data,s=!0,a.forEach((function(t){t.client_no==localStorage.getItem("client_account_no")&&t.info_year==o.selectedYear&&(s=!1)})),1==s?(i=this,this.$swal({text:this.$t("ConformationMessage"),showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:this.$t("CANCEL"),cancelButtonColor:"#062854",cancelButtonClass:"btn-primary"}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=!e.value){t.next=4;break}return t.abrupt("return");case 4:i.createInfo();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):(this.addBusy=!1,this.$swal({type:"warning",text:this.$t("ErrorMessage")}));case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),createInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,x.postAPI(_["a"].MASTERCREATEMCLIENTCOMPANYSIZEINFO,[{client_no:localStorage.getItem("client_account_no"),info_year:this.selectedYear,company_size:"",industry_no:this.companySettingInfo.selectedIndustry,employee_number:parseInt(this.NumberConvert(this.companySettingInfo.employee.slice(0,-1))),capital:parseInt(this.NumberConvert(this.companySettingInfo.capital.slice(0,-1))),revenue:parseInt(this.NumberConvert(this.companySettingInfo.sales)),floor_space:parseInt(this.NumberConvert(this.companySettingInfo.floorSize.slice(0,-1))),number_of_stores:parseInt(this.NumberConvert(this.companySettingInfo.storeNo.slice(0,-2))),del_flg:!1,create_id:localStorage.getItem("client_account_no"),create_dt:(new Date).getFullYear()+"-"+this.currentMonth+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),update_id:localStorage.getItem("client_account_no"),update_dt:(new Date).getFullYear()+"-"+this.currentMonth+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),created_at:null,updated_at:null}]);case 2:e=t.sent,n=e.data,n.success&&(this.companyTableData(),this.clearbasicSettingInfo());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateCompanyInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,i,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.companySettingInfo.$touch(),this.$v.companySettingInfo.$invalid){t.next=22;break}if(this.updBusy=!0,""!=this.companySettingInfo.employee&&0!=parseInt(this.companySettingInfo.employee)){t.next=8;break}this.updBusy=!1,this.$swal({type:"warning",text:this.$t("WarningMessage1")}),t.next=22;break;case 8:if(""!=this.companySettingInfo.capital&&0!=parseInt(this.companySettingInfo.capital)){t.next=13;break}this.updBusy=!1,this.$swal({type:"warning",text:this.$t("WarningMessage2")}),t.next=22;break;case 13:return t.next=15,x.postAPI(_["a"].MASTERREADMCLIENTCOMPANYSIZEINFO,{fieldlist:["*"],conditions:[{key:"client_no",value:localStorage.getItem("client_account_no")}]});case 15:e=t.sent,n=e.data,this.updBusy=!1,a=n.data,s=!1,a.forEach((function(t){t.client_no==localStorage.getItem("client_account_no")&&t.info_year==o.yearInfo&&(o.client_info_no=t.company_size_info_no,o.industryNo=t.industry_no,o.companysize=t.company_size,o.createDate=t.create_dt,s=!0)})),1==s?(i=this,this.$swal({text:this.$t("UpdateMessage"),showCancelButton:!0,confirmButtonText:"OK",cancelButtonText:this.$t("CANCEL"),cancelButtonColor:"#062854",cancelButtonClass:"btn-primary"}).then(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=!e.value){t.next=5;break}return this.updBusy=!1,t.abrupt("return");case 5:i.updateInfo();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}())):this.$swal({type:"warning",text:this.$t("ErrorMessage2")});case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),updateInfo:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("this.companySettingInfo.capital",this.companySettingInfo.capital),t.next=3,x.postAPI(_["a"].MASTERUPDATEMCLIENTCOMAPNYSIZEINFO,{data:[{client_no:localStorage.getItem("client_account_no"),info_year:this.selectedYear,company_size:this.companysize,industry_no:this.companySettingInfo.selectedIndustry,employee_number:parseInt(this.NumberConvert(this.companySettingInfo.employee.slice(0,-1))),capital:parseInt(this.NumberConvert(this.companySettingInfo.capital.slice(0,-1))),revenue:parseInt(this.NumberConvert(this.companySettingInfo.sales)),floor_space:parseInt(this.NumberConvert(this.companySettingInfo.floorSize.slice(0,-1))),number_of_stores:parseInt(this.NumberConvert(this.companySettingInfo.storeNo.slice(0,-2))),del_flg:!1,create_id:localStorage.getItem("client_account_no"),create_dt:this.createDate,update_id:localStorage.getItem("client_account_no"),update_dt:(new Date).getFullYear()+"-"+this.currentMonth+"-"+(new Date).getDate()+" "+(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds(),created_at:null,updated_at:null}],conditions:[{key:"company_size_info_no",value:this.client_info_no}]});case 3:e=t.sent,n=e.data,n.success&&(this.companyTableData(),this.clearbasicSettingInfo());case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},$=w,D=(n("63c2"),n("d5a2"),Object(b["a"])($,a,s,!1,null,"6ea20506",null));e["default"]=D.exports},ade3:function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return a}))},bca4:function(t,e,n){},d5a2:function(t,e,n){"use strict";n("2d49")},e940:function(t,e,n){"use strict";n("bca4")}}]);
//# sourceMappingURL=chunk-0faaab30.724889b9.js.map