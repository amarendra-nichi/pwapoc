(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-619a8a74"],{"62c0":function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"main-content",attrs:{id:"background"}},[t.loading?o("div",{staticClass:"loading"}):o("div",{staticClass:"app flex-row align-items-center"},[o("div",{staticClass:"container"},[o("b-row",{staticClass:"justify-content-center"},[o("b-col",{attrs:{md:"7"}},[o("div",{staticClass:"text-center mb-4"},[o("img",{staticClass:"navbar-brand-full p-3",attrs:{src:a("8c6f"),width:"38%",alt:"Expense Reduction Management Logo"}})]),o("b-card-group",[o("b-card",{staticClass:"p-4",attrs:{"no-body":""}},[o("b-card-body",{staticClass:"card-padding-top"},[t.showMsg?o("b-row",[o("b-button",{staticClass:"back-btn",attrs:{variant:"primary"},on:{click:t.backTo}},[t._v(t._s(t.$t("CLOSE")))])],1):t._e(),o("b-row",[t.showMsg?o("b-col",{attrs:{cols:"12"}},[o("div",{staticClass:"w-full d-flex justify-content-center"},[o("i",{staticClass:"fa fa-check-circle-o fa-4x",staticStyle:{color:"green","font-size":"80px"},attrs:{"aria-hidden":"true"}})]),o("div",{staticClass:"mb-3 font-weight-bold"},[t._v(" "+t._s(t.$t("RESETPASSWORDSUCCESS"))+" ")]),o("div",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("LOGINID"))+"： "),o("span",[t._v(t._s(t.companyInfo.login_id))])]),o("div",{staticClass:"mb-4 font-weight-bold"},[t._v(" "+t._s(t.$t("LOGINPASSWORD"))+"： "),o("span",[t._v(t._s(t.password))])]),o("div",{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.$t("RESETCOMPLETE1"))+" "),o("span",{staticClass:"text-blue"},[t._v(" "+t._s(t.companyInfo.mail_address)+" ")]),t._v(" "+t._s(t.$t("PASSWORDRESETLINKSENT2"))+" "),o("div",[t._v(t._s(t.$t("RESETCOMPLETE2")))])])]):t._e()],1),t.showMsg?t._e():o("b-form",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[o("div",{staticClass:"text-center title-fw title-fs"},[t._v(" "+t._s(t.$t("RESETPASSWORD"))+" ")]),o("br"),o("p",{staticClass:"text-center text-danger"},[t._v(" "+t._s(t.validationMessage)+" ")]),o("b-row",{staticClass:"mb-2"},[o("b-col",["USER"==t.access_role?o("div",{staticClass:"title-text"},[t._v(" "+t._s(t.$t("CUSTOMERINFORMATION"))+" ")]):o("div",{staticClass:"title-text"},[t._v(" "+t._s(t.$t("PERSONINCHARGEINFO"))+" ")])])],1),o("div",{staticClass:"padding-level-1"},[o("b-row",{staticClass:"mb-2"},["USER"==t.access_role?o("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("COMPANYNAME")))]):o("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("AFFILIATIONNAME")))]),o("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.company_name))])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("CONTACTNAME")))]),o("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.contact_name))])],1),o("b-row",{staticClass:"mb-2"},[o("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("MAILADDRESS")))]),o("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.mail_address))])],1)],1),o("b-row",{staticClass:"mb-2 mt-3"},[o("b-col",[o("div",{staticClass:"title-text"},[t._v(" "+t._s(t.$t("LOGININFORMATION"))+" ")])])],1),o("div",{staticClass:"padding-level-1"},[o("b-row",{staticClass:"mb-2"},[o("b-col",{attrs:{cols:"5"}},[t._v(t._s(t.$t("LOGINID")))]),o("b-col",{attrs:{cols:"7"}},[t._v(t._s(t.companyInfo.login_id))])],1),o("b-form-group",[o("b-row",[o("b-col",{attrs:{cols:"12",sm:"6",lg:"5"}},[o("label",{staticClass:"line-3"},[t._v(t._s(t.$t("NEWPASSWORD")))]),o("b-button",{staticClass:"px-4 required-btn ml-1",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))])],1),o("b-col",{attrs:{cols:"12",sm:"6",md:"7"}},[o("b-input-group",{staticClass:"mb-1",scopedSlots:t._u([{key:"append",fn:function(){return[o("b-input-group-text",{staticClass:"pointer",on:{click:t.toggleNewPassword}},[o("strong",[o("span",{staticClass:"fa fa-fw fa-eye toggle-password pointer",class:{"view-password-selected":t.showNewPassword},attrs:{toggle:"#password-field"}})])])]},proxy:!0}],null,!1,163497697)},[o("b-form-input",{staticClass:"form-control",attrs:{placeholder:t.$t("NEWPASSWORD"),type:t.newPasswordType},model:{value:t.$v.password.$model,callback:function(s){t.$set(t.$v.password,"$model","string"===typeof s?s.trim():s)},expression:"$v.password.$model"}})],1),o("show-errors",{attrs:{control:t.$v.password,field:t.$t("NEWPASSWORD")}})],1)],1)],1),o("b-form-group",[o("b-row",[o("b-col",{attrs:{cols:"12",sm:"6",lg:"5"}},[o("label",{staticClass:"line-3"},[t._v(" "+t._s(t.$t("CONFIRMPASSWORD"))+" ")]),o("b-button",{staticClass:"px-4 required-btn ml-1",attrs:{variant:"primary"}},[t._v(t._s(t.$t("REQUIREDBUTTON")))])],1),o("b-col",{attrs:{cols:"12",sm:"6",md:"7"}},[o("b-input-group",{staticClass:"mb-1",scopedSlots:t._u([{key:"append",fn:function(){return[o("b-input-group-text",{staticClass:"pointer",on:{click:t.toggleConfirmPassword}},[o("strong",[o("span",{staticClass:"fa fa-fw fa-eye toggle-password",class:{"view-password-selected":t.showConfirmPassword},attrs:{toggle:"#password-field"}})])])]},proxy:!0}],null,!1,3546044058)},[o("b-form-input",{staticClass:"form-control",attrs:{placeholder:t.$t("CONFIRMPASSWORD"),type:t.confirmPasswordType},model:{value:t.$v.confirm_password.$model,callback:function(s){t.$set(t.$v.confirm_password,"$model","string"===typeof s?s.trim():s)},expression:"$v.confirm_password.$model"}})],1),o("show-errors",{attrs:{control:t.$v.confirm_password,field:t.$t("CONFIRMPASSWORD")}})],1)],1)],1),o("b-row",{staticClass:"mb-4"},[o("b-col",[o("div",{staticClass:"small-fs mb-2 text-center"},[t._v(" "+t._s(t.$t("RESETPASSWORDLEBEL2"))+" ")])])],1)],1),o("b-row",[o("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[o("b-button",{staticClass:"px-4 reset-btn",attrs:{disabled:t.onSubmit,variant:"primary",type:"submit"}},[t._v(" "+t._s(t.$t("RESET"))+" "),t.onSubmit?o("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()])],1)],1)],1)],1)],1)],1)],1)],1)],1)])])},e=[],n=(a("96cf"),a("1da1")),i=(a("6762"),a("2fdb"),a("b5ae")),c=a("c827"),r=a("3f54"),l=a("d3a4"),d=a("2f4e"),m=r["a"].get("basic"),p={name:"UserResetPassword",components:{ShowErrors:c["a"]},data:function(){return{loading:!1,showMsg:!1,password:"",confirm_password:"",validationMessage:"",onSubmit:!1,showNewPassword:!1,showConfirmPassword:!1,companyInfo:{company_name:"",contact_name:"",mail_address:"",login_id:"",client_account_no:""}}},validations:{password:{required:i["required"],minLength:Object(i["minLength"])(8),maxLength:Object(i["maxLength"])(15)},confirm_password:{sameAsPassword:Object(i["sameAs"])("password")}},computed:{newPasswordType:function(){return this.showNewPassword?"text":"password"},confirmPasswordType:function(){return this.showConfirmPassword?"text":"password"}},watch:{password:function(){this.clearApiValidation()},confirm_password:function(){this.clearApiValidation()},$route:"verifyToken"},created:function(){this.verifyToken()},beforeCreate:function(){window.location.pathname.includes("mng")?(localStorage.setItem("role","ADMIN"),this.access_role="ADMIN"):(localStorage.setItem("role","USER"),this.access_role="USER")},methods:{toggleOnSubmit:function(){this.onSubmit=!this.onSubmit},submit:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var s,a,o,e,n,i,c=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.$v.$touch(),this.$v.$invalid){t.next=17;break}if(this.toggleOnSubmit(),"USER"!=localStorage.getItem("role")){t.next=11;break}return t.next=6,m.postAPI(d["a"].RESETPASSWORD,{remind_mail:this.companyInfo.mail_address,client_account_no:this.companyInfo.client_account_no,client_login_pass:this.password,client_name:this.companyInfo.contact_name,client_login_id:this.companyInfo.login_id});case 6:s=t.sent,a=s.data,a.success?(o=this.getSuccessHtml(),this.$swal({width:750,type:"success",html:o,customClass:{popup:"format-pre"}}).then((function(){c.$router.push({name:"user_login"})}))):this.validationMessage=this.$t("backend."+a.message.code),t.next=16;break;case 11:return t.next=13,m.postAPI(d["a"].MRESETPASSWORD,{remind_mail:this.companyInfo.mail_address,client_account_no:this.companyInfo.client_account_no,client_login_pass:this.password,client_name:this.companyInfo.contact_name,client_login_id:this.companyInfo.login_id});case 13:e=t.sent,n=e.data,n.success?(i=this.getSuccessHtml(),this.$swal({width:750,type:"success",html:i,customClass:{popup:"format-pre"}}).then((function(){c.$router.push({name:"admin_login"})}))):this.validationMessage=this.$t("backend."+n.message.code);case 16:this.toggleOnSubmit();case 17:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),verifyToken:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var s,a,o,e,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.loading=!0,"USER"!=localStorage.getItem("role")){t.next=10;break}return t.next=4,m.postAPI(d["a"].VERIFYRESETPASSWORDTOKEN,{onetime_pass:this.$route.params.token});case 4:s=t.sent,a=s.data,this.loading=!1,a.success?(o=a.data,this.companyInfo.company_name=o.client_name,this.companyInfo.contact_name=o.client_person_name,this.companyInfo.mail_address=o.client_mail,this.companyInfo.client_account_no=o.client_account_no,this.companyInfo.login_id=o.client_login_id):this.$router.push("/404"),t.next=16;break;case 10:return t.next=12,m.postAPI(d["a"].MVERIFYRESETPASSWORDTOKEN,{onetime_pass:this.$route.params.token});case 12:e=t.sent,n=e.data,this.loading=!1,n.success?(i=n.data,this.companyInfo.company_name=i.client_name,this.companyInfo.contact_name=i.client_person_name,this.companyInfo.mail_address=i.client_mail,this.companyInfo.client_account_no=i.client_account_no,this.companyInfo.login_id=i.client_login_id):this.$router.push("/404");case 16:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),backTo:function(){"ADMIN"==localStorage.getItem("role")?this.$router.push({name:"admin_login"}):this.$router.push("/")},toggleNewPassword:function(){this.showNewPassword=!this.showNewPassword},toggleConfirmPassword:function(){this.showConfirmPassword=!this.showConfirmPassword},getSuccessHtml:function(){var t='<div class="mb-3 font-weight-bold text-left"> '+l["a"].t("RESETPASSWORDSUCCESS")+" </div>";return t+='<div class="font-weight-bold text-left">'+l["a"].t("LOGINID")+"：<span>"+this.companyInfo.login_id+"</span></div>",t+='<div class="mb-4 font-weight-bold text-left">'+l["a"].t("LOGINPASSWORD")+"：<span>"+this.password+"</span>  </div>",t+='<div class="font-weight-bold text-left">'+l["a"].t("RESETCOMPLETE1")+'<span class="text-blue">'+this.companyInfo.mail_address+"</span>"+l["a"].t("PASSWORDRESETLINKSENT2")+"<div>"+l["a"].t("RESETCOMPLETE2")+"</div></div>",t},clearApiValidation:function(){this.validationMessage=""}}},u=p,_=(a("feec"),a("2877")),f=Object(_["a"])(u,o,e,!1,null,"b1a4b586",null);s["default"]=f.exports},"8c6f":function(t,s,a){t.exports=a.p+"img/logo-w.e302777f.svg"},d3b2:function(t,s,a){},feec:function(t,s,a){"use strict";a("d3b2")}}]);
//# sourceMappingURL=chunk-619a8a74.ddc53a13.js.map